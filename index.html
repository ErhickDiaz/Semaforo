<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Tabla con Filtro y Semáforo</title>
  <style>
    body {
      background-color: #111;
      color: white;
      font-family: 'Courier New', monospace;
      padding: 20px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 1.2rem;
      margin-top: 10px;
    }
    th {
      color: #FFD700;
      text-align: left;
      padding: 10px;
      border-bottom: 2px solid #FFD700;
    }
    td {
      padding: 10px;
      border-bottom: 1px solid #444;
    }
    .sem-verde {
      color: #00ff00;
      font-weight: bold;
    }
    .sem-amarillo {
      color: #ffff00;
      font-weight: bold;
    }
    .sem-rojo {
      color: #ff4c4c;
      font-weight: bold;
    }
    .boton-filtro {
      background-color: #333;
      border: 1px solid #555;
      color: white;
      padding: 8px 15px;
      margin: 5px;
      cursor: pointer;
      font-size: 1rem;
      border-radius: 4px;
      transition: background-color 0.3s, box-shadow 0.3s;
      display: inline-block;
    }
    .boton-filtro.activo {
      background-color: #FFD700;
      color: #111;
      box-shadow: 0 0 10px #FFD700;
      border-color: #FFD700;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <div id="filtros">
    <button class="boton-filtro activo" id="btnTodos">Todos</button>
    <!-- Aquí se pueden agregar más botones de filtro si quieres -->
  </div>

  <table>
    <thead>
      <tr>
        <th>Patente</th>
        <th>Ruta</th>
        <th>Semáforo</th>
        <th>Última Actualización</th>
      </tr>
    </thead>
    <tbody id="tablaDatos"></tbody>
  </table>

  <script>
    // Datos base con solo los campos necesarios y simulando semáforo por latitud (columna 4)
    const datos = [
      { patente: "PJJV29", ruta: "Fuera de zona", semaforoLat: "-32.307419", ultimaActualizacion: "05-27 10:03" },
      { patente: "LXHJ99", ruta: "Planta San Gabriel", semaforoLat: "-35.831262", ultimaActualizacion: "05-27 09:08" },
      { patente: "LZRG89", ruta: "Fuera de zona", semaforoLat: "-29.566827", ultimaActualizacion: "05-27 21:23" },
      { patente: "PSLY21", ruta: "Fuera de zona", semaforoLat: "-40.80033", ultimaActualizacion: "05-27 21:23" },
      { patente: "PGBY32", ruta: "PLANTA CHILLAN IDEAL", semaforoLat: "-36.706504", ultimaActualizacion: "05-27 21:22" },
      { patente: "RHDX20", ruta: "D&C", semaforoLat: "-33.591433", ultimaActualizacion: "05-27 21:23" },
      { patente: "PFBS17", ruta: "Planta San Gabriel", semaforoLat: "-35.831059", ultimaActualizacion: "05-27 21:23" },
      { patente: "LXHJ98", ruta: "IDEAL_ANTOFAGASTA", semaforoLat: "-23.619423", ultimaActualizacion: "05-27 21:21" },
      { patente: "LTGY82", ruta: "Fuera de zona", semaforoLat: "-39.493771", ultimaActualizacion: "05-27 21:23" }
    ];

    // Función para decidir color semáforo basado en latitud (ejemplo)
    function calcularSemaforo(lat) {
      const latNum = parseFloat(lat);
      if (latNum < -35) return 'rojo';
      if (latNum >= -35 && latNum <= -30) return 'amarillo';
      return 'verde';
    }

    function mostrarDatos(datosMostrar) {
      const tbody = document.getElementById('tablaDatos');
      tbody.innerHTML = '';

      datosMostrar.forEach(({ patente, ruta, semaforoLat, ultimaActualizacion }) => {
        const tr = document.createElement('tr');

        // Patente
        const tdPatente = document.createElement('td');
        tdPatente.textContent = patente;
        tr.appendChild(tdPatente);

        // Ruta
        const tdRuta = document.createElement('td');
        tdRuta.textContent = ruta;
        tr.appendChild(tdRuta);

        // Semáforo
        const tdSemaforo = document.createElement('td');
        const color = calcularSemaforo(semaforoLat);
        tdSemaforo.textContent = '●';
        tdSemaforo.classList.add(`sem-${color}`);
        tr.appendChild(tdSemaforo);

        // Última Actualización
        const tdUltima = document.createElement('td');
        tdUltima.textContent = ultimaActualizacion;
        tr.appendChild(tdUltima);

        tbody.appendChild(tr);
      });
    }

    // Inicializar con todos los datos
    mostrarDatos(datos);

    // Aquí podrías agregar lógica para los filtros, si quieres

  </script>

</body>
</html>
